import{_ as Z}from"./AsyncSafeSeoWithOg.vue.e692c306.js";import J from"./ContentRenderer.dab166dc.js";import{_ as G}from"./Shape.vue.489d7e38.js";/* empty css                  */import{_ as Q}from"./Character.04ab4649.js";import{_ as X}from"./Btn.f70e2e1d.js";import{a as j,r as g,Y as w,Z as U,C as V,o as m,c as C,B as p,e as _,F as T,h as F,i as $,G as H,f as r,H as f,k as Y,t as O,a7 as ee,j as E,a3 as z,E as te,a8 as b,b as se,u,a9 as oe,aa as le}from"./entry.d8916246.js";/* empty css                       */import{_ as ne}from"./Mask.a0ee0b2d.js";import{_ as ie}from"./Index.8b96d752.js";import{C as re}from"./Title.6e521fb7.js";import{C as ae}from"./Index.5ec1bf7a.js";import{u as ce,q as S}from"./query.b692b137.js";import{a as ue}from"./date.8706a179.js";import"./ContentRendererMarkdown.87c9b0c7.js";import"./index.a6ef77ff.js";/* empty css                      */import"./nuxt-link.82f6452f.js";/* empty css                *//* empty css                 *//* empty css                  *//* empty css                  *//* empty css                  */import"./utils.bbc8b685.js";const de=j({name:"ActionsFan",props:{actions:{type:Array,default:()=>[]},side:{type:String,default:"left"},filterClass:{type:[String,Object],default:""}},emits:["actionFocus","actionUnfocus","actionChoose"],setup(e){const a={left:{clipPath:"polygon(10px 0, 0 100%, 100% 40%)"},right:{clipPath:"polygon(calc(100% - 10px) 0, 100% 100%, 0 40%)"}},n=g([]);return w(()=>{n.value=e.actions.filter(()=>!0)}),U(()=>{n.value=e.actions.filter(()=>!1)}),{displayedActions:n,shapeStyles:a}}});function fe(e,a,n,c,o,s){const l=X,d=G;return m(),C(ee,{name:"actions",tag:"ul"},{default:p(()=>[(m(!0),_(T,null,F(e.displayedActions,(i,h)=>(m(),C(d,{key:i.title,tag:"li",class:$(["w-full transform -my-8",{[i.class??""]:!0,"origin-left":e.side==="right","origin-right":e.side==="left"}]),"filter-class":e.filterClass,style:H({...i.style,"--tw-rotate":`${e.side==="left"?12-h*18:-12+h*18}deg`}),"shape-class":{"dark:bg-neutral-900":!0,[i.shapeClass??""]:!0},"shape-style":{...i.shapeStyle,...e.side==="right"?e.shapeStyles.right:e.shapeStyles.left}},{default:p(()=>[r("div",{class:$(["px-3 py-2",{"flex justify-end":e.side==="right"}])},[f(l,{to:i.to,tag:"button","no-passive-hl":"",onClick:y=>e.$emit("actionChoose",i.emit),onMouseenter:y=>e.$emit("actionFocus",i.emit),onTouchstart:y=>e.$emit("actionFocus",i.emit),onFocusin:y=>e.$emit("actionFocus",i.emit),onMouseleave:y=>e.$emit("actionUnfocus",i.emit),onTouchend:y=>e.$emit("actionUnfocus",i.emit),onFocusout:y=>e.$emit("actionUnfocus",i.emit)},{default:p(()=>[Y(O(i.title),1)]),_:2},1032,["to","onClick","onMouseenter","onTouchstart","onFocusin","onMouseleave","onTouchend","onFocusout"])],2)]),_:2},1032,["filter-class","class","style","shape-class","shape-style"]))),128))]),_:1})}const ge=V(de,[["render",fe]]),pe=j({name:"Background",props:{overlayClass:{type:[String,Object],default:""},overlayStyle:{type:Object,default:()=>{}},dotsClass:{type:[String,Object],default:""},dotsStyle:{type:Object,default:()=>{}},dots:{type:Boolean,default:!1},tag:{type:String,default:"div"}}}),me={class:"mbg__relative-container"},ye={class:"mbg__layer"},_e={class:"mbg__content"};function he(e,a,n,c,o,s){return m(),C(te(e.tag),{class:"mbg__main-container"},{default:p(()=>[r("div",me,[r("div",{class:$(["mbg__layer",e.overlayClass]),style:H(e.overlayStyle)},null,6),r("div",ye,[E(e.$slots,"svg")]),e.dots?(m(),_("div",{key:0,class:$(["mbg__layer mbg__dots",e.dotsClass]),style:H(e.dotsStyle)},null,6)):z("",!0),r("div",_e,[E(e.$slots,"default")])])]),_:3})}const ve=V(pe,[["render",he]]),K=e=>e.map((a,n,c)=>{const o=c.reduce((l,d,i)=>(i>n?l.push(l.at(-1)):l.push(d.left),l),[]);return[...c.reduce((l,d,i)=>(i>n?l.push(l.at(-1)):l.push(d.right),l),[]),...o.reverse()]}),W=e=>{const a=K(e),n=a.length,c=a[0].length,o=[];for(let s=0;s<c;s++){const l=[];for(let d=0;d<n;d++)l.push(a[d][s]);o.push(l)}return o},xe=()=>{const e={section:g(null),main:g(null),bg:g(null),text:g(null),svg:g(null),line:g(null)};return w(()=>{var n;const a={scrub:1,start:()=>0,end:()=>window.innerHeight*.5};b.fromTo(e.bg.value,{clipPath:"polygon(0% 0%, 100% 0%, 100% 100%, 77% 100%, 0 100%)"},{scrollTrigger:a,clipPath:"polygon(0% 0%, 100% 0%, 100% 48%, 77% 25%, 0 25%)"}),b.fromTo(e.main.value,{},{scrollTrigger:a,marginBottom:"-75vh"}),b.fromTo((n=e.text.value)==null?void 0:n.$el,{top:"33%"},{scrollTrigger:a,top:"3%"})}),w(()=>{const a={scrub:1,end:()=>window.innerHeight*1,start:()=>window.innerHeight*.3};W([{left:{x:90,y:0},right:{x:95,y:0}},{left:{x:50,y:33},right:{x:63,y:35}},{left:{x:80,y:58},right:{x:85,y:55}},{left:{x:50,y:100},right:{x:75,y:100}}]).forEach(n=>{var o,s;const c=(o=e.svg.value)==null?void 0:o.createSVGPoint();c&&((s=e.line.value)==null||s.points.appendItem(c),b.to(c,{keyframes:n,scrollTrigger:a}))})}),{introNodeRefs:e}},be=()=>{const e={svg:g(null),line:g(null),portfolio:g(null),blog:g(null),resume:g(null)};let a;const n=g(null);return w(()=>{setTimeout(()=>{const c={scrub:1,start:()=>{var s,l;return(((l=(s=e.svg)==null?void 0:s.value)==null?void 0:l.getBoundingClientRect().top)??0)+window.scrollY-window.innerHeight*(1-.35*Number(window.innerHeight<window.innerWidth))},end:()=>{var s,l;return(((l=(s=e.svg)==null?void 0:s.value)==null?void 0:l.getBoundingClientRect().bottom)??0)+window.scrollY-window.innerHeight*(1-.35*Number(window.innerHeight<window.innerWidth))}};W([{left:{x:10,y:0},right:{x:13,y:0}},{left:{x:87,y:4},right:{x:90,y:1}},{left:{x:83,y:16},right:{x:87,y:10}},{left:{x:97,y:6},right:{x:94,y:7}},{left:{x:43,y:8},right:{x:50,y:9}},{left:{x:45,y:67},right:{x:57,y:49}},{left:{x:90,y:40},right:{x:85,y:38}},{left:{x:83,y:23},right:{x:72,y:14}},{left:{x:95,y:28},right:{x:98,y:25}},{left:{x:97,y:93},right:{x:99,y:99}},{left:{x:40,y:76},right:{x:30,y:75}},{left:{x:80,y:60},right:{x:95,y:50}},{left:{x:50,y:100},right:{x:75,y:100}}]).forEach(s=>{var d,i;const l=(d=e.svg.value)==null?void 0:d.createSVGPoint();l&&((i=e.line.value)==null||i.points.appendItem(l),b.to(l,{keyframes:s,scrollTrigger:c}))})},1e3)}),w(()=>{a=new IntersectionObserver(c=>{if(c.some(o=>o.isIntersecting&&o.target===e.resume.value)){n.value="resume";return}if(c.some(o=>o.isIntersecting&&o.target===e.blog.value)){n.value="blog";return}c.some(o=>o.isIntersecting&&o.target===e.portfolio.value)&&(n.value="portfolio")},{rootMargin:"-33% 0% -66% 0%",threshold:0}),e.portfolio.value&&a.observe(e.portfolio.value),e.blog.value&&a.observe(e.blog.value),e.resume.value&&a.observe(e.resume.value)}),U(()=>{a&&a.disconnect()}),{sectionsNodeRefs:e,currentSection:n}},we=()=>{const e={storyContainer:g(null),svg:g(null),line:g(null),linePlaceholder:g(null)};return w(()=>{setTimeout(()=>{var c;const a={scrub:1,start:()=>{var o,s;return(((s=(o=e.storyContainer)==null?void 0:o.value)==null?void 0:s.getBoundingClientRect().top)??0)+window.scrollY-window.innerHeight},end:()=>{var o,s;return(((s=(o=e.storyContainer)==null?void 0:o.value)==null?void 0:s.getBoundingClientRect().bottom)??0)+window.scrollY-window.innerHeight}},n=[{left:{x:2,y:0},right:{x:7,y:0}},{left:{x:3,y:10},right:{x:9,y:13}},{left:{x:1,y:20},right:{x:7,y:20}},{left:{x:2,y:30},right:{x:7,y:30}},{left:{x:0,y:36},right:{x:6,y:40}},{left:{x:3,y:47},right:{x:8,y:50}},{left:{x:1,y:64},right:{x:6,y:60}},{left:{x:4,y:70},right:{x:9,y:73}},{left:{x:2,y:80},right:{x:6,y:85}},{left:{x:3,y:92},right:{x:8,y:90}},{left:{x:0,y:100},right:{x:7,y:100}}];(c=K(n).at(-1))==null||c.forEach(o=>{var l,d;const s=(l=e.svg.value)==null?void 0:l.createSVGPoint();s&&(s.x=o.x,s.y=o.y,(d=e.linePlaceholder.value)==null||d.points.appendItem(s))}),W(n).forEach(o=>{var l,d;const s=(l=e.svg.value)==null?void 0:l.createSVGPoint();s&&((d=e.line.value)==null||d.points.appendItem(s),b.to(s,{keyframes:o,scrollTrigger:a}))})},1e3)}),{storyNodeRefs:e}},ke=e=>e!=null&&e.attributes?null:e,k=e=>(oe("data-v-44c05b6e"),e=e(),le(),e),Se={key:0,class:"-mt-20"},Ce={class:"sticky top-0"},$e={id:"home-intro-section"},Pe={class:"absolute top-0 left-0 w-fit"},Be=k(()=>r("h1",null,"Sections",-1)),Te={class:"w-full max-w-6xl mx-auto"},Fe={class:"section-description__text"},Re=k(()=>r("div",{class:"pt-20"},null,-1)),Ie=k(()=>r("h1",null,"Skills",-1)),Ne={class:"max-w-7xl mx-auto px-3"},Ae=k(()=>r("div",{style:{height:"20vh"}},null,-1)),De=k(()=>r("div",{class:"pt-20"},null,-1)),Me=k(()=>r("h1",null,"Story",-1)),He={class:"max-w-7xl px-3 mx-auto -mb-10 sm:-mb-32"},Ye={class:"flex items-start justify-start"},Oe={class:"story-blocks__cards"},je=j({__name:"index",setup(e){const a=g("idle"),{introNodeRefs:n}=xe(),{sectionsNodeRefs:c,currentSection:o}=be(),{storyNodeRefs:s}=we(),l=[{title:"Sections",to:"#sections",emit:"action"},{title:"Skills",to:"#skills",emit:"profi"},{title:"Story",to:"#story",emit:"idle"}],d=se(()=>o.value==="portfolio"?"fill-red-700":o.value==="blog"?"fill-cyan-700":o.value==="resume"?"fill-blue-700":"fill-green-700"),{data:i}=ce("homepage",async()=>{const h=S("/homepage/intro").findOne(),y=S("/homepage/sections").find(),R=S("/homepage/skills").find(),v=S("/homepage/story/intro").findOne(),P=S("/homepage/story/blocks").sort({date:-1}).find(),[B,I,x,N,A]=await Promise.all([h,y,R,v,P]);return{intro:B,sections:I,skills:x,story:{intro:N,blocks:A}}});return(h,y)=>{const R=Z,v=J,P=G,B=Q,I=ge,x=ve,N=ne,A=ie,L=re,q=ae;return u(i)?(m(),_("div",Se,[f(R,{"og-title":"Homepage"}),r("section",{ref:t=>{u(n).section.value=t},style:{height:"200vh"}},[r("div",Ce,[r("div",{ref:t=>{u(n).main.value=t},class:"relative w-screen max-w-full h-screen"},[r("div",{ref:t=>{u(n).bg.value=t},class:"absolute h-full w-full top-0 left-0 bg-[url('~/assets/img/bg/d-bw.webp')] bg-cover bg-center z-[2]"},null,512),f(P,{ref:t=>{u(n).text.value=("componentFromNodeRef"in h?h.componentFromNodeRef:u(ke))(t)},class:"absolute w-fit top-1/3 left-0 right-0 mx-auto z-[3]","shape-class":"intro-shape"},{default:p(()=>[f(v,{tag:"div",value:u(i).intro,class:"p-10 text-xl font-serif text-center"},null,8,["value"])]),_:1},512)],512),f(x,{dots:"","dots-style":{clipPath:"polygon(20% 100%, 100% 100%, 100% 0%)"},class:"bg-[url('~/assets/img/bg/it-office.png')] bg-cover bg-center","overlay-class":"backdrop-saturate-0 bg-green-900 bg-opacity-90"},{svg:p(()=>[(m(),_("svg",{ref:t=>{u(n).svg.value=t},height:"100%",width:"100%",class:"absolute top-0 w-full max-w-6xl h-full sharp-shadow ss-r-4 ss-b-2 ss-neutral-900",viewBox:"80 0 20 100",preserveAspectRatio:"xMaxYMax"},[r("polygon",{ref:t=>{u(n).line.value=t},class:"fill-white"},null,512)],512))]),default:p(()=>[r("div",$e,[r("div",Pe,[f(B,{pose:u(a),class:"sm:h-96 sm:w-96 max-w-sm md:w-full md:h-auto md:max-w-lg sharp-shadow ss-br-3 ss-neutral-400 -ml-20 sm:ml-auto mt-20 transition-all"},null,8,["pose"]),f(I,{actions:l,side:"right",class:"absolute top-2/3 left-1/2 w-2/3 sm:left-2/3 z-10 text-xl md:text-2xl","filter-class":"sharp-shadow ss-br-3 ss-neutral-50",onActionFocus:y[0]||(y[0]=t=>a.value=t),onActionUnfocus:y[1]||(y[1]=t=>a.value="idle")})])])]),_:1},8,["dots-style"])])],512),f(x,{id:"sections",tag:"section",class:"bg-[url('~/assets/img/bg/hightech-city.png')] bg-cover bg-center","overlay-class":"backdrop-saturate-50 bg-neutral-900 bg-opacity-90"},{svg:p(()=>[(m(),_("svg",{ref:t=>{u(c).svg.value=t},height:"100%",width:"100%",class:"absolute top-0 w-full h-full sharp-shadow ss-r-4 ss-b-2 ss-neutral-900",viewBox:"90 0 10 100",preserveAspectRatio:"xMaxYMax"},[r("polygon",{ref:t=>{u(c).line.value=t},class:$(["transition-colors",u(d)])},null,2)],512))]),default:p(()=>[Be,r("div",Te,[(m(!0),_(T,null,F(u(i).sections,(t,D)=>(m(),_("div",{key:t._id,ref_for:!0,ref:M=>{D===0?u(c).portfolio.value=M:D===1?u(c).blog.value=M:D===2&&(u(c).resume.value=M)},class:"section-description"},[f(N,{mask:t.mask,color:"",class:"section-description__image"},null,8,["mask"]),r("div",Fe,[f(A,{to:t.link,text:t.title,class:"underline"},null,8,["to","text"]),f(v,{value:t},null,8,["value"])])]))),128))])]),_:1}),f(x,{id:"skills",tag:"section","overlay-class":"skills__bg-overlay"},{default:p(()=>[Re,Ie,r("div",Ne,[(m(!0),_(T,null,F(u(i).skills,t=>(m(),C(v,{key:t._id,tag:"div",class:"skills-group",value:t},null,8,["value"]))),128))]),Ae]),_:1}),f(x,{id:"story",tag:"section","overlay-class":"story__bg-overlay"},{default:p(()=>[De,Me,r("div",He,[r("div",Ye,[f(B,{pose:"profi",class:"character"}),f(P,{class:"bubble-1","filter-class":"sharp-shadow ss-neutral-50 ss-r-1 ss-b-1","shape-class":"bubble-1__shape"},{default:p(()=>[f(v,{value:u(i).story.intro,tag:"div",class:"bubble-1__text"},null,8,["value"])]),_:1})])]),r("div",{ref:t=>{u(s).storyContainer.value=t},class:"story-blocks"},[(m(),_("svg",{ref:t=>{u(s).svg.value=t},height:"100%",width:"100%",class:"story-progress",viewBox:"0 0 10 100"},[r("polygon",{ref:t=>{u(s).linePlaceholder.value=t},class:"fill-black"},null,512),r("polygon",{ref:t=>{u(s).line.value=t},class:"fill-white"},null,512)],512)),r("div",Oe,[(m(!0),_(T,null,F(u(i).story.blocks,t=>(m(),C(q,{key:t._id,mode:"homepage-story",class:"my-20"},{default:p(()=>[f(L,null,{extra:p(()=>[Y(O(("dateToMonthYear"in h?h.dateToMonthYear:u(ue))(t.date)),1)]),default:p(()=>[Y(" "+O(t.title),1)]),_:2},1024),f(v,{value:t},null,8,["value"])]),_:2},1024))),128))])],512)]),_:1})])):z("",!0)}}});const dt=V(je,[["__scopeId","data-v-44c05b6e"]]);export{dt as default};
