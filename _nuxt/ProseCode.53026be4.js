import N from"./Icon.9d5c917b.js";import{r as v,ag as V,ah as j,ai as R,C as S,D as I,V as z,a0 as W,o as F,d as P,s as q,b as h,c as x,e as T,g as $,w as G,B as E,T as H,n as M,p as J,i as K,t as Q,f as U,L as X}from"./entry.8b155df3.js";import{_ as O}from"./_plugin-vue_export-helper.c27b6911.js";import"https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs";function L(e){return j()?(R(e),!0):!1}function w(e){return typeof e=="function"?e():S(e)}const b=typeof window<"u"&&typeof document<"u",Y=Object.prototype.toString,Z=e=>Y.call(e)==="[object Object]",A=()=>{},ee=te();function te(){var e;return b&&((e=window==null?void 0:window.navigator)==null?void 0:e.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent)}function oe(e,n,s={}){const{immediate:t=!0}=s,r=v(!1);let a=null;function d(){a&&(clearTimeout(a),a=null)}function u(){r.value=!1,d()}function i(...f){d(),r.value=!0,a=setTimeout(()=>{r.value=!1,a=null,e(...f)},w(n))}return t&&(r.value=!0,b&&i()),L(u),{isPending:V(r),start:i,stop:u}}function g(e){var n;const s=w(e);return(n=s==null?void 0:s.$el)!=null?n:s}const D=b?window:void 0,ne=b?window.navigator:void 0;function C(...e){let n,s,t,r;if(typeof e[0]=="string"||Array.isArray(e[0])?([s,t,r]=e,n=D):[n,s,t,r]=e,!n)return A;Array.isArray(s)||(s=[s]),Array.isArray(t)||(t=[t]);const a=[],d=()=>{a.forEach(l=>l()),a.length=0},u=(l,m,o,c)=>(l.addEventListener(m,o,c),()=>l.removeEventListener(m,o,c)),i=z(()=>[g(n),w(r)],([l,m])=>{if(d(),!l)return;const o=Z(m)?{...m}:m;a.push(...s.flatMap(c=>t.map(p=>u(l,c,p,o))))},{immediate:!0,flush:"post"}),f=()=>{i(),d()};return L(f),f}let k=!1;function se(e,n,s={}){const{window:t=D,ignore:r=[],capture:a=!0,detectIframe:d=!1}=s;if(!t)return;ee&&!k&&(k=!0,Array.from(t.document.body.children).forEach(o=>o.addEventListener("click",A)),t.document.documentElement.addEventListener("click",A));let u=!0;const i=o=>r.some(c=>{if(typeof c=="string")return Array.from(t.document.querySelectorAll(c)).some(p=>p===o.target||o.composedPath().includes(p));{const p=g(c);return p&&(o.target===p||o.composedPath().includes(p))}}),l=[C(t,"click",o=>{const c=g(e);if(!(!c||c===o.target||o.composedPath().includes(c))){if(o.detail===0&&(u=!i(o)),!u){u=!0;return}n(o)}},{passive:!0,capture:a}),C(t,"pointerdown",o=>{const c=g(e);c&&(u=!o.composedPath().includes(c)&&!i(o))},{passive:!0}),d&&C(t,"blur",o=>{setTimeout(()=>{var c;const p=g(e);((c=t.document.activeElement)==null?void 0:c.tagName)==="IFRAME"&&!(p!=null&&p.contains(t.document.activeElement))&&n(o)},0)})].filter(Boolean);return()=>l.forEach(o=>o())}function ae(){const e=v(!1);return W()&&F(()=>{e.value=!0}),e}function ce(e){const n=ae();return I(()=>(n.value,!!e()))}function re(e={}){const{navigator:n=ne,read:s=!1,source:t,copiedDuring:r=1500,legacy:a=!1}=e,d=ce(()=>n&&"clipboard"in n),u=I(()=>d.value||a),i=v(""),f=v(!1),l=oe(()=>f.value=!1,r);function m(){d.value?n.clipboard.readText().then(y=>{i.value=y}):i.value=p()}u.value&&s&&C(["copy","cut"],m);async function o(y=w(t)){u.value&&y!=null&&(d.value?await n.clipboard.writeText(y):c(y),i.value=y,f.value=!0,l.start())}function c(y){const _=document.createElement("textarea");_.value=y??"",_.style.position="absolute",_.style.opacity="0",document.body.appendChild(_),_.select(),document.execCommand("copy"),_.remove()}function p(){var y,_,B;return(B=(_=(y=document==null?void 0:document.getSelection)==null?void 0:y.call(document))==null?void 0:_.toString())!=null?B:""}return{isSupported:u,text:i,copied:f,copy:o}}const ue=e=>(J("data-v-0a12b65b"),e=e(),K(),e),ie=ue(()=>T("span",{class:"sr-only"},"Copy to clipboard",-1)),le={class:"icon-wrapper"},de=P({__name:"ProseCodeCopyButton",props:{content:{type:String,default:""},show:{type:Boolean,default:!1}},setup(e){const n=e,s=v(),{copy:t}=re();se(s,()=>{a.value==="copied"&&(a.value="init")});const{prose:r}=q(),a=v("init"),d=u=>{t(n.content).then(()=>{a.value="copied"}).catch(i=>{console.warn("Couldn't copy to clipboard!",i)})};return(u,i)=>{const f=N;return h(),x("button",{ref_key:"copyButtonRef",ref:s,class:M([(e.show||a.value==="copied")&&"show"]),onClick:d},[ie,T("span",le,[$(H,{name:"fade"},{default:G(()=>{var l,m;return[a.value==="copied"?(h(),E(f,{key:0,name:(l=S(r).copyButton)==null?void 0:l.iconCopied,size:"18",class:"copied"},null,8,["name"])):(h(),E(f,{key:1,name:(m=S(r).copyButton)==null?void 0:m.iconCopy,size:"18"},null,8,["name"]))]}),_:1})])],2)}}});const pe=O(de,[["__scopeId","data-v-0a12b65b"]]),fe={key:0,class:"filename"},me=P({__name:"ProseCode",props:{code:{type:String,default:""},language:{type:String,default:null},filename:{type:String,default:null},highlights:{type:Array,default:()=>[]}},setup(e){const n=v(!1);return(s,t)=>{const r=pe;return h(),x("div",{class:M([[`highlight-${e.language}`],"prose-code"]),onMouseenter:t[0]||(t[0]=a=>n.value=!0),onMouseleave:t[1]||(t[1]=a=>n.value=!1)},[e.filename?(h(),x("span",fe,Q(e.filename),1)):U("",!0),X(s.$slots,"default",{},void 0,!0),$(r,{show:n.value,content:e.code,class:"copy-button"},null,8,["show","content"])],34)}}});const he=O(me,[["__scopeId","data-v-cafe2a2b"]]);export{he as default};
