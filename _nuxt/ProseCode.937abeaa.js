import z from"./Icon.4dd46daf.js";import{r as g,x as R,y as V,z as W,u as b,b as I,A as q,B as F,q as j,a as k,p as G,o as _,e as A,f as P,C as T,w as H,c as E,T as J,i as M,D as K,E as Q,t as U,v as X,j as Y}from"./entry.5392b24c.js";/* empty css                      */import{_ as $}from"./_plugin-vue_export-helper.c27b6911.js";import"./Icon.vue.3bf632e7.js";import"https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs";function D(e){return V()?(W(e),!0):!1}function C(e){return typeof e=="function"?e():b(e)}const S=typeof window<"u",L=()=>{},Z=ee();function ee(){var e;return S&&((e=window==null?void 0:window.navigator)==null?void 0:e.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent)}function te(e,n,s={}){const{immediate:t=!0}=s,i=g(!1);let a=null;function f(){a&&(clearTimeout(a),a=null)}function u(){i.value=!1,f()}function l(...p){f(),i.value=!0,a=setTimeout(()=>{i.value=!1,a=null,e(...p)},C(n))}return t&&(i.value=!0,S&&l()),D(u),{isPending:R(i),start:l,stop:u}}function h(e){var n;const s=C(e);return(n=s==null?void 0:s.$el)!=null?n:s}const N=S?window:void 0,oe=S?window.navigator:void 0;function w(...e){let n,s,t,i;if(typeof e[0]=="string"||Array.isArray(e[0])?([s,t,i]=e,n=N):[n,s,t,i]=e,!n)return L;Array.isArray(s)||(s=[s]),Array.isArray(t)||(t=[t]);const a=[],f=()=>{a.forEach(c=>c()),a.length=0},u=(c,v,o,r)=>(c.addEventListener(v,o,r),()=>c.removeEventListener(v,o,r)),l=q(()=>[h(n),C(i)],([c,v])=>{f(),c&&a.push(...s.flatMap(o=>t.map(r=>u(c,o,r,v))))},{immediate:!0,flush:"post"}),p=()=>{l(),f()};return D(p),p}let x=!1;function ne(e,n,s={}){const{window:t=N,ignore:i=[],capture:a=!0,detectIframe:f=!1}=s;if(!t)return;Z&&!x&&(x=!0,Array.from(t.document.body.children).forEach(o=>o.addEventListener("click",L)));let u=!0;const l=o=>i.some(r=>{if(typeof r=="string")return Array.from(t.document.querySelectorAll(r)).some(m=>m===o.target||o.composedPath().includes(m));{const m=h(r);return m&&(o.target===m||o.composedPath().includes(m))}}),c=[w(t,"click",o=>{const r=h(e);if(!(!r||r===o.target||o.composedPath().includes(r))){if(o.detail===0&&(u=!l(o)),!u){u=!0;return}n(o)}},{passive:!0,capture:a}),w(t,"pointerdown",o=>{const r=h(e);r&&(u=!o.composedPath().includes(r)&&!l(o))},{passive:!0}),f&&w(t,"blur",o=>{var r;const m=h(e);((r=t.document.activeElement)==null?void 0:r.tagName)==="IFRAME"&&!(m!=null&&m.contains(t.document.activeElement))&&n(o)})].filter(Boolean);return()=>c.forEach(o=>o())}function se(){const e=g(!1);return F()&&j(()=>{e.value=!0}),e}function ae(e){const n=se();return I(()=>(n.value,!!e()))}function re(e={}){const{navigator:n=oe,read:s=!1,source:t,copiedDuring:i=1500,legacy:a=!1}=e,f=["copy","cut"],u=ae(()=>n&&"clipboard"in n),l=I(()=>u.value||a),p=g(""),c=g(!1),v=te(()=>c.value=!1,i);function o(){u.value?n.clipboard.readText().then(d=>{p.value=d}):p.value=O()}if(l.value&&s)for(const d of f)w(d,o);async function r(d=C(t)){l.value&&d!=null&&(u.value?await n.clipboard.writeText(d):m(d),p.value=d,c.value=!0,v.start())}function m(d){const y=document.createElement("textarea");y.value=d??"",y.style.position="absolute",y.style.opacity="0",document.body.appendChild(y),y.select(),document.execCommand("copy"),y.remove()}function O(){var d,y,B;return(B=(y=(d=document==null?void 0:document.getSelection)==null?void 0:d.call(document))==null?void 0:y.toString())!=null?B:""}return{isSupported:l,text:p,copied:c,copy:r}}const ie=e=>(K("data-v-4a003820"),e=e(),Q(),e),ce=ie(()=>P("span",{class:"sr-only"},"Copy to clipboard",-1)),ue={class:"icon-wrapper"},le=k({__name:"ProseCodeCopyButton",props:{content:{type:String,default:""},show:{type:Boolean,default:!1}},setup(e){const n=e,s=g(),{copy:t}=re();ne(s,()=>{a.value==="copied"&&(a.value="init")});const{prose:i}=G(),a=g("init"),f=u=>{t(n.content).then(()=>{a.value="copied"}).catch(l=>{console.warn("Couldn't copy to clipboard!",l)})};return(u,l)=>{const p=z;return _(),A("button",{ref_key:"copyButtonRef",ref:s,class:M([(e.show||a.value==="copied")&&"show"]),onClick:f},[ce,P("span",ue,[T(J,{name:"fade"},{default:H(()=>{var c,v;return[a.value==="copied"?(_(),E(p,{key:0,name:(c=b(i).copyButton)==null?void 0:c.iconCopied,size:"18",class:"copied"},null,8,["name"])):(_(),E(p,{key:1,name:(v=b(i).copyButton)==null?void 0:v.iconCopy,size:"18"},null,8,["name"]))]}),_:1})])],2)}}}),de=$(le,[["__scopeId","data-v-4a003820"]]),pe={key:0,class:"filename"},fe=k({__name:"ProseCode",props:{code:{type:String,default:""},language:{type:String,default:null},filename:{type:String,default:null},highlights:{type:Array,default:()=>[]}},setup(e){const n=g(!1);return(s,t)=>{const i=de;return _(),A("div",{class:M([[`highlight-${e.language}`],"prose-code"]),onMouseenter:t[0]||(t[0]=a=>n.value=!0),onMouseleave:t[1]||(t[1]=a=>n.value=!1)},[e.filename?(_(),A("span",pe,U(e.filename),1)):X("",!0),Y(s.$slots,"default",{},void 0,!0),T(i,{show:n.value,content:e.code,class:"copy-button"},null,8,["show","content"])],34)}}}),we=$(fe,[["__scopeId","data-v-c164ce0a"]]);export{we as default};
