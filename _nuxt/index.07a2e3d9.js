import{_ as Q}from"./AsyncSafeSeoWithOg.vue.384b1bcb.js";import X from"./ContentRenderer.26e6e666.js";import{_ as L}from"./Shape.vue.a42d55b3.js";/* empty css                  */import{_ as ee}from"./Index.a239cbe1.js";import{_ as te}from"./Btn.vue.627786eb.js";/* empty css                */import{a as W,r,Y as V,Z as E,o as g,c as S,B as d,e as y,F,h as M,u as n,i as C,G as j,f as o,H as u,aa as se,k as H,t as U,ab as oe,C as G,j as z,a3 as q,E as le,a5 as b,b as ne,ac as ae,ad as ie}from"./entry.d4b16921.js";/* empty css                       */import{_ as re}from"./Mask.6b4da09b.js";import{_ as ce}from"./Index.b8cc1364.js";import{C as ue}from"./Title.04240c23.js";import{C as fe}from"./Index.e6568a31.js";import{a as de,b as ge}from"./utils.d27f2fac.js";import{u as me,q as w}from"./query.6095eb01.js";import{a as pe}from"./date.8706a179.js";import"./ContentRendererMarkdown.a03c971c.js";import"./index.a6ef77ff.js";/* empty css                  */import"./nuxt-link.f2290495.js";/* empty css                 *//* empty css                  *//* empty css                  *//* empty css                  */import"./utils.c490549b.js";const ye=W({__name:"Fan",props:{actions:{type:Array,default:()=>[]},side:{type:String,default:"left"},filterClass:{type:[String,Object],default:""}},emits:["actionFocus","actionUnfocus","actionChoose"],setup(s){const e=s,l={left:{clipPath:"polygon(10px 0, 0 100%, 100% 40%)"},right:{clipPath:"polygon(calc(100% - 10px) 0, 100% 100%, 0 40%)"}},a=r([]);return V(()=>{a.value=e.actions.filter(()=>!0)}),E(()=>{a.value=e.actions.filter(()=>!1)}),(i,f)=>{const m=te,_=L;return g(),S(oe,{name:"actions",tag:"ul",class:"py-8"},{default:d(()=>[(g(!0),y(F,null,M(n(a),(c,v)=>(g(),S(_,{key:c.title,tag:"li",class:C(["w-full transform -my-8",{[c.class??""]:!0,"origin-left":s.side==="right","origin-right":s.side==="left"}]),"filter-class":s.filterClass,style:j({...c.style,"--tw-rotate":`${s.side==="left"?12-v*18:-12+v*18}deg`}),"shape-class":{"dark:bg-neutral-900":!0,[c.shapeClass??""]:!0},"shape-style":{...c.shapeStyle,...s.side==="right"?l.right:l.left}},{default:d(()=>[o("div",{class:C(["px-3 py-2",{"flex justify-end":s.side==="right"}])},[u(m,se(c.attrs,{tag:"button","no-passive-hl":"",onClick:p=>i.$emit("actionChoose",c.emit),onMouseenter:p=>i.$emit("actionFocus",c.emit),onTouchstart:p=>i.$emit("actionFocus",c.emit),onFocusin:p=>i.$emit("actionFocus",c.emit),onMouseleave:p=>i.$emit("actionUnfocus",c.emit),onTouchend:p=>i.$emit("actionUnfocus",c.emit),onFocusout:p=>i.$emit("actionUnfocus",c.emit)}),{default:d(()=>[H(U(c.title),1)]),_:2},1040,["onClick","onMouseenter","onTouchstart","onFocusin","onMouseleave","onTouchend","onFocusout"])],2)]),_:2},1032,["filter-class","class","style","shape-class","shape-style"]))),128))]),_:1})}}}),ve=W({name:"Background",props:{overlayClass:{type:[String,Object],default:""},overlayStyle:{type:Object,default:()=>{}},dotsClass:{type:[String,Object],default:""},dotsStyle:{type:Object,default:()=>{}},dots:{type:Boolean,default:!1},tag:{type:String,default:"div"}}}),_e={class:"mbg__relative-container"},he={class:"mbg__layer"},xe={class:"mbg__content"};function be(s,e,l,a,i,f){return g(),S(le(s.tag),{class:"mbg__main-container"},{default:d(()=>[o("div",_e,[o("div",{class:C(["mbg__layer",s.overlayClass]),style:j(s.overlayStyle)},null,6),o("div",he,[z(s.$slots,"svg")]),s.dots?(g(),y("div",{key:0,class:C(["mbg__layer mbg__dots",s.dotsClass]),style:j(s.dotsStyle)},null,6)):q("",!0),o("div",xe,[z(s.$slots,"default")])])]),_:3})}const ke=G(ve,[["render",be]]),$=(s,e,l=500)=>{{let i=l/100;const f=()=>{var m;(m=s.value)!=null&&m.isConnected?e():i>0&&(setTimeout(f,100),i--)};V(()=>{f()})}},{applyLinePerPointAnimation:Y,applyStaticPoints:we}=de(),{getAbsoluteBoundingsGetters:Z}=ge(),Se=s=>{const e={section:r(null),main:r(null),bg:r(null),text:r(null),svg:r(null),line:r(null)};return $(s,()=>{var a;const l={scrub:1,start:()=>0,end:()=>window.innerHeight*.5};b.fromTo(e.bg.value,{clipPath:"polygon(0% 0%, 100% 0%, 100% 100%, 77% 100%, 0 100%)"},{scrollTrigger:l,clipPath:"polygon(0% 0%, 100% 0%, 100% 48%, 77% 25%, 0 25%)"}),b.fromTo(e.main.value,{},{scrollTrigger:l,marginBottom:"-75vh"}),b.fromTo((a=e.text.value)==null?void 0:a.$el,{top:"33%"},{scrollTrigger:l,top:"3%"})}),$(s,()=>{!e.svg.value||!e.line.value||Y([{left:{x:90,y:0},right:{x:95,y:0}},{left:{x:50,y:33},right:{x:63,y:35}},{left:{x:80,y:58},right:{x:85,y:55}},{left:{x:50,y:100},right:{x:75,y:100}}],e.svg.value,e.line.value,(l,a)=>{b.to(l,{keyframes:a,scrollTrigger:{scrub:1,end:()=>window.innerHeight*1,start:()=>window.innerHeight*.3}})})}),{introNodeRefs:e}},Ce=s=>{const e={svg:r(null),line:r(null),portfolio:r(null),blog:r(null),resume:r(null)};let l;const a=r(null);return $(s,()=>{const i=Z(e.svg,{y:()=>-window.innerHeight*(1-.35*+(window.innerHeight<window.innerWidth))}),f={scrub:1,start:i.top,end:i.bottom},m=[{left:{x:10,y:0},right:{x:13,y:0}},{left:{x:87,y:4},right:{x:90,y:1}},{left:{x:83,y:16},right:{x:87,y:10}},{left:{x:97,y:6},right:{x:94,y:7}},{left:{x:43,y:8},right:{x:50,y:9}},{left:{x:45,y:67},right:{x:57,y:49}},{left:{x:90,y:40},right:{x:85,y:38}},{left:{x:83,y:23},right:{x:72,y:14}},{left:{x:95,y:28},right:{x:98,y:25}},{left:{x:97,y:93},right:{x:99,y:99}},{left:{x:40,y:76},right:{x:30,y:75}},{left:{x:80,y:60},right:{x:95,y:50}},{left:{x:50,y:100},right:{x:75,y:100}}];!e.svg.value||!e.line.value||Y(m,e.svg.value,e.line.value,(_,c)=>{b.to(_,{keyframes:c,scrollTrigger:f})})}),$(s,()=>{l=new IntersectionObserver(i=>{const f=m=>i.some(_=>_.isIntersecting&&_.target===m);f(e.resume.value)?a.value="resume":f(e.blog.value)?a.value="blog":f(e.portfolio.value)&&(a.value="portfolio")},{rootMargin:"-33% 0% -66% 0%",threshold:0}),e.portfolio.value&&l.observe(e.portfolio.value),e.blog.value&&l.observe(e.blog.value),e.resume.value&&l.observe(e.resume.value)}),E(()=>{l&&l.disconnect()}),{sectionsNodeRefs:e,currentSection:a}},$e=s=>{const e={storyContainer:r(null),svg:r(null),line:r(null),linePlaceholder:r(null)};return $(s,()=>{const l=[{left:{x:2,y:0},right:{x:7,y:0}},{left:{x:3,y:10},right:{x:9,y:13}},{left:{x:1,y:20},right:{x:7,y:20}},{left:{x:2,y:30},right:{x:7,y:30}},{left:{x:0,y:36},right:{x:6,y:40}},{left:{x:3,y:47},right:{x:8,y:50}},{left:{x:1,y:64},right:{x:6,y:60}},{left:{x:4,y:70},right:{x:9,y:73}},{left:{x:2,y:80},right:{x:6,y:85}},{left:{x:3,y:92},right:{x:8,y:90}},{left:{x:0,y:100},right:{x:7,y:100}}];if(!e.svg.value||!e.linePlaceholder.value||!e.line.value)return;we(l,e.svg.value,e.linePlaceholder.value);const a=Z(e.storyContainer,{y:()=>-window.innerHeight});Y(l,e.svg.value,e.line.value,(i,f)=>{b.to(i,{keyframes:f,scrollTrigger:{scrub:1,start:a.top,end:a.bottom}})})}),{storyNodeRefs:e}},Be=s=>s!=null&&s.attributes?null:s,k=s=>(ae("data-v-0f8c75a8"),s=s(),ie(),s),Te={class:"sticky top-0"},Pe={id:"home-intro-section"},Fe={class:"relative h-full max-w-7xl mx-auto grid md:grid-cols-2 items-center"},Me=k(()=>o("h1",null,"Sections",-1)),De={class:"w-full max-w-6xl mx-auto"},Ne={class:"section-description__text"},Ae=k(()=>o("div",{class:"pt-20"},null,-1)),Ie=k(()=>o("h1",null,"Skills",-1)),Re={class:"max-w-7xl mx-auto px-3"},Oe=k(()=>o("div",{style:{height:"20vh"}},null,-1)),je=k(()=>o("div",{class:"pt-20"},null,-1)),He=k(()=>o("h1",null,"Story",-1)),Ue={class:"max-w-7xl px-3 mx-auto -mb-10 sm:-mb-32"},We={class:"flex items-start justify-start"},Ye={class:"story-blocks__cards"},ze=W({__name:"index",setup(s){const e=r("idle"),l=r(),{introNodeRefs:a}=Se(l),{sectionsNodeRefs:i,currentSection:f}=Ce(l),{storyNodeRefs:m}=$e(l),_=[{title:"Sections",emit:"action",attrs:{href:"#sections"}},{title:"Skills",emit:"profi",attrs:{href:"#skills"}},{title:"Story",emit:"idle",attrs:{href:"#story"}}],c=ne(()=>f.value==="portfolio"?"fill-red-700":f.value==="blog"?"fill-cyan-700":f.value==="resume"?"fill-blue-700":"fill-green-700"),{data:v}=me("homepage",async()=>{const p=w("/homepage/intro").findOne(),B=w("/homepage/sections").find(),D=w("/homepage/skills").find(),h=w("/homepage/story/intro").findOne(),T=w("/homepage/story/blocks").sort({date:-1}).find(),[P,N,x,A,I]=await Promise.all([p,B,D,h,T]);return{intro:P,sections:N,skills:x,story:{intro:A,blocks:I}}});return(p,B)=>{const D=Q,h=X,T=L,P=ee,N=ye,x=ke,A=re,I=ce,J=ue,K=fe;return n(v)?(g(),y("div",{key:0,ref_key:"rootRef",ref:l,class:"-mt-20"},[u(D,{"og-title":"Homepage"}),o("section",{ref:t=>{n(a).section.value=t},style:{height:"200vh"}},[o("div",Te,[o("div",{ref:t=>{n(a).main.value=t},class:"relative w-screen max-w-full h-screen"},[o("div",{ref:t=>{n(a).bg.value=t},class:"absolute h-full w-full top-0 left-0 bg-[url('~/assets/img/bg/d-bw.webp')] bg-cover bg-center z-[2]"},null,512),u(T,{ref:t=>{n(a).text.value=("componentFromNodeRef"in p?p.componentFromNodeRef:n(Be))(t)},class:"absolute w-fit top-1/3 left-0 right-0 mx-auto z-[3]","shape-class":"intro-shape"},{default:d(()=>[u(h,{tag:"div",value:n(v).intro,class:"p-10 text-xl font-serif text-center"},null,8,["value"])]),_:1},512)],512),u(x,{dots:"","dots-style":{clipPath:"polygon(20% 100%, 100% 100%, 100% 0%)"},class:"bg-[url('~/assets/img/bg/it-office.png')] bg-cover bg-center","overlay-class":"backdrop-saturate-0 bg-green-900 bg-opacity-90"},{svg:d(()=>[(g(),y("svg",{ref:t=>{n(a).svg.value=t},height:"100%",width:"100%",class:"absolute top-0 w-full max-w-6xl h-full sharp-shadow ss-r-4 ss-b-2 ss-neutral-900",viewBox:"80 0 20 100",preserveAspectRatio:"xMaxYMax"},[o("polygon",{ref:t=>{n(a).line.value=t},class:"fill-white"},null,512)],512))]),default:d(()=>[o("div",Pe,[o("div",Fe,[u(P,{pose:n(e),"shape-class":"fill-black",class:"absolute self-end h-full -ml-20 sm:ml-auto mt-20 transition-all"},null,8,["pose"]),u(N,{actions:_,side:"right",class:"absolute top-1/2 left-1/3 w-1/2 md:w-1/3 max-w-xs z-10 text-xl md:text-2xl","filter-class":"sharp-shadow ss-br-3 ss-neutral-50",onActionFocus:B[0]||(B[0]=t=>e.value=t)})])])]),_:1},8,["dots-style"])])],512),u(x,{id:"sections",tag:"section",class:"bg-[url('~/assets/img/bg/hightech-city.png')] bg-cover bg-center","overlay-class":"backdrop-saturate-50 bg-neutral-900 bg-opacity-90"},{svg:d(()=>[(g(),y("svg",{ref:t=>{n(i).svg.value=t},height:"100%",width:"100%",class:"absolute top-0 w-full h-full sharp-shadow ss-r-4 ss-b-2 ss-neutral-900",viewBox:"90 0 10 100",preserveAspectRatio:"xMaxYMax"},[o("polygon",{ref:t=>{n(i).line.value=t},class:C(["transition-colors",n(c)])},null,2)],512))]),default:d(()=>[Me,o("div",De,[(g(!0),y(F,null,M(n(v).sections,(t,R)=>(g(),y("div",{key:t._id,ref_for:!0,ref:O=>{R===0?n(i).portfolio.value=O:R===1?n(i).blog.value=O:R===2&&(n(i).resume.value=O)},class:"section-description"},[u(A,{mask:t.mask,color:"",class:"section-description__image"},null,8,["mask"]),o("div",Ne,[u(I,{to:t.link,text:t.title,class:"underline"},null,8,["to","text"]),u(h,{value:t},null,8,["value"])])]))),128))])]),_:1}),u(x,{id:"skills",tag:"section","overlay-class":"skills__bg-overlay"},{default:d(()=>[Ae,Ie,o("div",Re,[(g(!0),y(F,null,M(n(v).skills,t=>(g(),S(h,{key:t._id,tag:"div",class:"skills-group",value:t},null,8,["value"]))),128))]),Oe]),_:1}),u(x,{id:"story",tag:"section","overlay-class":"story__bg-overlay"},{default:d(()=>[je,He,o("div",Ue,[o("div",We,[u(P,{pose:"profi",class:"character"}),u(T,{class:"bubble-1","filter-class":"sharp-shadow ss-neutral-50 ss-r-1 ss-b-1","shape-class":"bubble-1__shape"},{default:d(()=>[u(h,{value:n(v).story.intro,tag:"div",class:"bubble-1__text"},null,8,["value"])]),_:1})])]),o("div",{ref:t=>{n(m).storyContainer.value=t},class:"story-blocks"},[(g(),y("svg",{ref:t=>{n(m).svg.value=t},height:"100%",width:"100%",class:"story-progress",viewBox:"0 0 10 100"},[o("polygon",{ref:t=>{n(m).linePlaceholder.value=t},class:"fill-black"},null,512),o("polygon",{ref:t=>{n(m).line.value=t},class:"fill-white"},null,512)],512)),o("div",Ye,[(g(!0),y(F,null,M(n(v).story.blocks,t=>(g(),S(K,{key:t._id,mode:"homepage-story",class:"my-20"},{default:d(()=>[u(J,null,{extra:d(()=>[H(U(("dateToMonthYear"in p?p.dateToMonthYear:n(pe))(t.date)),1)]),default:d(()=>[H(" "+U(t.title),1)]),_:2},1024),u(h,{value:t},null,8,["value"])]),_:2},1024))),128))])],512)]),_:1})],512)):q("",!0)}}});const pt=G(ze,[["__scopeId","data-v-0f8c75a8"]]);export{pt as default};
