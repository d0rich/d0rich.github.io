import{_ as N}from"./AsyncSafeSeoWithOg.vue.10f271bf.js";import{a as P}from"./Index.vue.85f77426.js";import O from"./ContentRenderer.e090e7c4.js";import M from"./Icon.4e26a4cc.js";import{C as j}from"./Title.877c16b8.js";import{_ as V}from"./Index.vue.2f1af294.js";import{_ as q}from"./nuxt-link.5c0cf2dc.js";import{a as y,d as A}from"./date.cb5304c9.js";import{a as v,o as l,c,w as m,u as t,C as r,k as B,f as i,t as k,r as L,q as Y,e as T,W as E,b as R,v as h,ag as W}from"./entry.ec7bb338.js";import{_ as G}from"./Error404.9c204adb.js";import{u as w}from"./asyncData.53f853e7.js";import{u as H}from"./navigation.0763f5a2.js";import{q as b}from"./query.a4ac4351.js";import{g as I}from"./pagination.cc432e5c.js";import"./_plugin-vue_export-helper.c27b6911.js";import"./ContentRendererMarkdown.de0785af.js";import"./preview.3f4c28aa.js";import"https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs";import"./Shape.vue.8dd716e0.js";import"./utils.4cd36a7c.js";const z={class:"text-xl font-bold"},F={name:"DLayoutSurroundDocCard"},J=v({...F,props:{doc:{},direction:{}},setup(u){return(o,f)=>{const s=M,n=j,e=V,d=q;return l(),c(d,{to:("addTrailingSlash"in o?o.addTrailingSlash:t(y))(o.doc._path),class:"transition-transform hover:scale-90"},{default:m(()=>[r(e,{dense:""},{default:m(()=>[o.direction==="before"?(l(),c(n,{key:0,class:"[&_h3]:!text-cyan-800"},{default:m(()=>[B(" Older"),r(s,{name:"ic:sharp-arrow-forward-ios"})]),_:1})):(l(),c(n,{key:1,class:"[&_h3]:!text-cyan-800"},{default:m(()=>[r(s,{name:"ic:sharp-arrow-back-ios"}),B("Newer ")]),_:1})),i("h4",z,k(o.doc.title),1),i("p",null,k(o.doc.description),1)]),_:1})]),_:1},8,["to"])}}}),K=v({name:"ClientOnly",inheritAttrs:!1,props:["fallback","placeholder","placeholderTag","fallbackTag"],setup(u,{slots:o,attrs:f}){const s=L(!1);return Y(()=>{s.value=!0}),n=>{var a;if(s.value)return(a=o.default)==null?void 0:a.call(o);const e=o.fallback||o.placeholder;if(e)return e();const d=n.fallback||n.placeholder||"",p=n.fallbackTag||n.placeholderTag||"span";return T(p,f,d)}}});function Q(u){return u.filter(o=>!!o)}const U={key:0,class:"pb-[50vh] pt-10"},X={class:"blog-article blog-fonts"},Z={class:"mb-10"},tt={key:0},ot={class:"blog-article justify-center grid sm:grid-cols-2 gap-8 items-start my-16"},et={class:"blog-article blog-fonts my-10"},Ct=v({__name:"[...slug]",setup(u){const o=Q(E().params.slug),{itemsOnPage:f,filter:s}=H(),n=["/blog",...o].join("/"),{data:e}=w(n,async()=>{const a=b("blog",...o).findOne(),C=b().only(["_path","title","description"]).where({...s,_path:/^\/blog/}).findSurround(n,{before:1,after:1}),[g,_]=await Promise.all([a,C]);return{...g,before:_[0],after:_[1]}},"$ij35HG41ph"),{data:d}=w(["blog",...o,"position"].join("/"),()=>{var a;return b("/blog").only("_path").where({...s,date:{$gte:Number((a=e.value)==null?void 0:a.date)}}).find()},{server:!0,transform:a=>a.length,watch:[e]}),p=R(()=>I("/blog",Math.floor((d.value??1)/(f-1)+1)));return(a,C)=>{const g=N,_=P,D=O,S=J,$=K,x=G;return t(e)?(l(),T("div",U,[r(g,{title:t(e).title,description:t(e).description},null,8,["title","description"]),i("div",X,[i("nav",Z,[r(_,{text:"< Back",to:("addTrailingSlash"in a?a.addTrailingSlash:t(y))(t(p))},null,8,["to"])]),t(e).date?(l(),T("time",tt,k(("dateToDayMonthYear"in a?a.dateToDayMonthYear:t(A))(t(e).date)),1)):h("",!0)]),r(D,{value:t(e),tag:"article",class:"blog-article blog-fonts"},null,8,["value"]),i("nav",ot,[t(e).after?(l(),c(S,{key:0,doc:t(e).after,direction:"after"},null,8,["doc"])):h("",!0),t(e).before?(l(),c(S,{key:1,doc:t(e).before,direction:"before"},null,8,["doc"])):h("",!0)]),i("nav",et,[r(_,{text:"< Back",to:("addTrailingSlash"in a?a.addTrailingSlash:t(y))(t(p))},null,8,["to"])]),r($,null,{default:m(()=>[r(t(W),{class:"blog-fonts max-w-screen-md mx-auto px-3 mt-32",identifier:t(e)._path,url:`https://d0rich.me${t(n)}`},null,8,["identifier","url"])]),_:1})])):(l(),c(x,{key:1}))}}});export{Ct as default};
